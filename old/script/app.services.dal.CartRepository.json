{"attributes":{"name":"CartRepository","packageName":"app.services.dal","externalRef":true,"fullName":"app.services.dal.CartRepository","type":"class","isInternal":false,"isStatic":false,"isAbstract":false,"superClass":"croc.Object","mixins":"","childClasses":"","line":1},"type":"class","children":[{"attributes":{},"type":"methods","children":[{"attributes":{"name":"addEntities","isStatic":false,"line":135},"type":"method","children":[{"attributes":{"text":"Добавить продукты в корзину"},"type":"desc"},{"attributes":{},"type":"params","children":[{"attributes":{"optional":false,"name":"entities"},"children":[{"attributes":{},"type":"types","children":[{"attributes":{"type":"Array.&lt;number|Object&gt;"},"type":"entry"}]}]}]},{"attributes":{},"type":"return","children":[{"attributes":{},"type":"types","children":[{"attributes":{"type":"$.Deferred"},"type":"entry"}]}]}]},{"attributes":{"name":"doAction","isStatic":false,"line":144},"type":"method","children":[{"attributes":{"text":"Выполнить произвольное действие"},"type":"desc"},{"attributes":{},"type":"params","children":[{"attributes":{"optional":false,"name":"action"},"children":[{"attributes":{},"type":"types","children":[{"attributes":{"type":"string"},"type":"entry"}]}]},{"attributes":{"optional":true,"name":"params","defaultValue":"{}"},"children":[{"attributes":{},"type":"types","children":[{"attributes":{"type":"Object"},"type":"entry"}]}]}]},{"attributes":{},"type":"return","children":[{"attributes":{},"type":"types","children":[{"attributes":{"type":"$.Deferred"},"type":"entry"}]}]}]},{"attributes":{"name":"getEntities","isStatic":false,"line":157},"type":"method","children":[{"attributes":{"text":"Список товаров в корзине"},"type":"desc"},{"attributes":{},"type":"params","children":[{"attributes":{"optional":true,"name":"onLoaded"},"children":[{"attributes":{},"type":"types","children":[{"attributes":{"type":"function(Array.&lt;Object&gt;)"},"type":"entry"}]}]}]},{"attributes":{},"type":"return","children":[{"attributes":{},"type":"types","children":[{"attributes":{"type":"croc.data.IStreamList"},"type":"entry"}]}]}]},{"attributes":{"name":"getInfo","isStatic":false,"line":87,"fromProperty":"info"},"type":"method","children":[{"attributes":{"text":"Возвращает значение свойства {@link #info}"},"type":"desc"},{"attributes":{},"type":"return","children":[{"attributes":{},"type":"types","children":[{"attributes":{"type":"Object"},"type":"entry"}]}]}]},{"attributes":{"name":"getQuantity","isStatic":false,"line":77,"fromProperty":"quantity"},"type":"method","children":[{"attributes":{"text":"Возвращает значение свойства {@link #quantity}"},"type":"desc"},{"attributes":{},"type":"return","children":[{"attributes":{},"type":"types","children":[{"attributes":{"type":"number"},"type":"entry"}]}]}]},{"attributes":{"name":"getRequestRelatedOnAdd","isStatic":false,"line":97,"fromProperty":"requestRelatedOnAdd"},"type":"method","children":[{"attributes":{"text":"Возвращает значение свойства {@link #requestRelatedOnAdd}"},"type":"desc"},{"attributes":{},"type":"return","children":[{"attributes":{},"type":"types","children":[{"attributes":{"type":"boolean"},"type":"entry"}]}]}]},{"attributes":{"name":"getTotalAmount","isStatic":false,"line":105,"fromProperty":"totalAmount"},"type":"method","children":[{"attributes":{"text":"Возвращает значение свойства {@link #totalAmount}"},"type":"desc"},{"attributes":{},"type":"return","children":[{"attributes":{},"type":"types","children":[{"attributes":{"type":"number"},"type":"entry"}]}]}]},{"attributes":{"name":"keepUpToDate","isStatic":false,"line":203},"type":"method","children":[{"attributes":{"text":"Изменять массив при изменении корзины. Не требует вызова getEntities и запроса на контроллер cart.php."},"type":"desc"},{"attributes":{},"type":"params","children":[{"attributes":{"optional":false,"name":"array"},"children":[{"attributes":{},"type":"types","children":[{"attributes":{"type":"croc.data.ObservableArray"},"type":"entry"}]}]}]},{"attributes":{},"type":"return","children":[{"attributes":{},"type":"types","children":[{"attributes":{"type":"function"},"type":"entry"}]}]}]},{"attributes":{"name":"processControllerResponse","isStatic":false,"line":226},"type":"method","children":[{"attributes":{"text":"Обработать ответ от контроллера cart.php"},"type":"desc"},{"attributes":{},"type":"deprecated","children":[{"attributes":{"text":""},"type":"desc"}]},{"attributes":{},"type":"params","children":[{"attributes":{"optional":false,"name":"response"},"children":[{"attributes":{},"type":"types","children":[{"attributes":{"type":"Object"},"type":"entry"}]}]}]}]},{"attributes":{"name":"removeEntities","isStatic":false,"line":236},"type":"method","children":[{"attributes":{"text":"Удалить продукты из корзины"},"type":"desc"},{"attributes":{},"type":"params","children":[{"attributes":{"optional":false,"name":"entities"},"children":[{"attributes":{},"type":"types","children":[{"attributes":{"type":"Array.&lt;number|Object&gt;"},"type":"entry"}]}]}]},{"attributes":{},"type":"return","children":[{"attributes":{},"type":"types","children":[{"attributes":{"type":"$.Deferred"},"type":"entry"}]}]}]},{"attributes":{"name":"setRequestRelatedOnAdd","isStatic":false,"line":97,"fromProperty":"requestRelatedOnAdd"},"type":"method","children":[{"attributes":{"text":"Назначает значение свойства {@link #requestRelatedOnAdd}"},"type":"desc"},{"attributes":{},"type":"params","children":[{"attributes":{"name":"value"},"children":[{"attributes":{},"type":"types","children":[{"attributes":{"type":"boolean"},"type":"entry"}]}]}]}]},{"attributes":{"name":"updateEntity","isStatic":false,"line":245},"type":"method","children":[{"attributes":{"text":"Изменить параметры продукта в корзине"},"type":"desc"},{"attributes":{},"type":"params","children":[{"attributes":{"optional":false,"name":"entity"},"children":[{"attributes":{},"type":"types","children":[{"attributes":{"type":"number|Object"},"type":"entry"}]}]},{"attributes":{"optional":false,"name":"changes"},"children":[{"attributes":{},"type":"types","children":[{"attributes":{"type":"Object"},"type":"entry"}]}]}]},{"attributes":{},"type":"return","children":[{"attributes":{},"type":"types","children":[{"attributes":{"type":"$.Deferred"},"type":"entry"}]}]}]},{"attributes":{"name":"__broadcastToLocalStorage","isStatic":false,"access":"private","line":267},"type":"method","children":[{"attributes":{},"type":"params","children":[{"attributes":{"optional":false,"name":"value"},"children":[{"attributes":{},"type":"types","children":[{"attributes":{"type":"Object"},"type":"entry"}]}]}]}]},{"attributes":{"name":"__changeCart","isStatic":false,"access":"private","line":277},"type":"method","children":[{"attributes":{},"type":"params","children":[{"attributes":{"optional":false,"name":"params"},"children":[]}]}]},{"attributes":{"name":"__onCartUpdate","isStatic":false,"access":"private","line":337},"type":"method","children":[{"attributes":{},"type":"params","children":[{"attributes":{"optional":false,"name":"response"},"children":[{"attributes":{},"type":"types","children":[{"attributes":{"type":"Object"},"type":"entry"}]}]}]}]},{"attributes":{"name":"__onToggleEntity","isStatic":false,"access":"private","line":419},"type":"method","children":[{"attributes":{},"type":"params","children":[{"attributes":{"optional":false,"name":"entity"},"children":[{"attributes":{},"type":"types","children":[{"attributes":{"type":"Object"},"type":"entry"}]}]},{"attributes":{"optional":false,"name":"value"},"children":[{"attributes":{},"type":"types","children":[{"attributes":{"type":"boolean"},"type":"entry"}]}]}]}]},{"attributes":{"name":"__operateItemsInCart","isStatic":false,"access":"private","line":437},"type":"method","children":[{"attributes":{},"type":"params","children":[{"attributes":{"optional":false,"name":"entities"},"children":[]},{"attributes":{"optional":false,"name":"action"},"children":[]},{"attributes":{"optional":true,"name":"addParams"},"children":[]}]},{"attributes":{},"type":"return","children":[{"attributes":{},"type":"types","children":[{"attributes":{"type":"$.Deferred"},"type":"entry"}]}]}]},{"attributes":{"name":"__setInfo","isStatic":false,"access":"private","line":87,"fromProperty":"info"},"type":"method","children":[{"attributes":{"text":"Назначает значение свойства {@link #info}"},"type":"desc"},{"attributes":{},"type":"params","children":[{"attributes":{"name":"value"},"children":[{"attributes":{},"type":"types","children":[{"attributes":{"type":"Object"},"type":"entry"}]}]}]}]},{"attributes":{"name":"__setQuantity","isStatic":false,"access":"private","line":77,"fromProperty":"quantity"},"type":"method","children":[{"attributes":{"text":"Назначает значение свойства {@link #quantity}"},"type":"desc"},{"attributes":{},"type":"params","children":[{"attributes":{"name":"value"},"children":[{"attributes":{},"type":"types","children":[{"attributes":{"type":"number"},"type":"entry"}]}]}]}]},{"attributes":{"name":"__setTotalAmount","isStatic":false,"access":"private","line":105,"fromProperty":"totalAmount"},"type":"method","children":[{"attributes":{"text":"Назначает значение свойства {@link #totalAmount}"},"type":"desc"},{"attributes":{},"type":"params","children":[{"attributes":{"name":"value"},"children":[{"attributes":{},"type":"types","children":[{"attributes":{"type":"number"},"type":"entry"}]}]}]}]}]},{"attributes":{"text":"Репозиторий для доступа к продуктам в корзине"},"type":"desc"},{"attributes":{},"type":"methods-static","children":[{"attributes":{"name":"getInfo","isStatic":true,"line":34},"type":"method","children":[{"attributes":{},"type":"params","children":[{"attributes":{"optional":false,"name":"response"},"children":[{"attributes":{},"type":"types","children":[{"attributes":{"type":"Object"},"type":"entry"}]}]}]},{"attributes":{},"type":"return","children":[{"attributes":{},"type":"types","children":[{"attributes":{"type":"Object"},"type":"entry"}]}]}]}]},{"attributes":{},"type":"constants","children":[{"attributes":{"name":"__ADD_ERRORS","access":"private","line":8},"type":"constant","children":[]},{"attributes":{"name":"__UPDATE_ERRORS","access":"private","line":20},"type":"constant","children":[]},{"attributes":{"name":"__LOCAL_STORAGE_KEY","access":"private","line":28},"type":"constant","children":[]}]},{"attributes":{},"type":"properties","children":[{"attributes":{"name":"quantity","propertyType":"new","line":77,"event":"changeQuantity"},"type":"method","children":[{"attributes":{"text":"Количество товаров в корзине"},"type":"desc"},{"attributes":{},"type":"types","children":[{"attributes":{"type":"number"},"type":"entry"}]}]},{"attributes":{"name":"info","propertyType":"new","line":87,"event":"changeInfo"},"type":"method","children":[{"attributes":{"text":"Различная информация о корзине"},"type":"desc"},{"attributes":{},"type":"types","children":[{"attributes":{"type":"Object"},"type":"entry"}]}]},{"attributes":{"name":"requestRelatedOnAdd","propertyType":"new","line":97,"defaultValue":"false"},"type":"method","children":[{"attributes":{"text":"Следует ли запрашивать сопутствующие товары для добавляемых товаров"},"type":"desc"},{"attributes":{},"type":"types","children":[{"attributes":{"type":"boolean"},"type":"entry"}]}]},{"attributes":{"name":"totalAmount","propertyType":"new","line":105,"event":"changeTotalAmount"},"type":"method","children":[{"attributes":{"text":"Общая сумма для товаров в корзине"},"type":"desc"},{"attributes":{},"type":"types","children":[{"attributes":{"type":"number"},"type":"entry"}]}]}]},{"attributes":{},"type":"events","children":[{"attributes":{"name":"addEntity","line":48},"type":"event","children":[]},{"attributes":{"name":"changeInfo","line":87},"type":"event","children":[{"attributes":{"text":"Возбуждается при изменении значения свойства {@link #info}"},"type":"desc"}]},{"attributes":{"name":"changeQuantity","line":77},"type":"event","children":[{"attributes":{"text":"Возбуждается при изменении значения свойства {@link #quantity}"},"type":"desc"}]},{"attributes":{"name":"changeTotalAmount","line":105},"type":"event","children":[{"attributes":{"text":"Возбуждается при изменении значения свойства {@link #totalAmount}"},"type":"desc"}]},{"attributes":{"name":"customAction","line":54},"type":"event","children":[{"attributes":{"text":"Было выполнено произвольное действие"},"type":"desc"}]},{"attributes":{"name":"removeEntity","line":62},"type":"event","children":[]},{"attributes":{"name":"updateEntity","line":68},"type":"event","children":[{"attributes":{"text":"Параметры продукта были изменены"},"type":"desc"}]}]},{"attributes":{},"type":"constructor","children":[{"attributes":{"isCtor":true,"name":"ctor"},"type":"method","children":[{"attributes":{},"type":"params","children":[{"attributes":{"optional":true,"name":"options"},"type":"param","children":[{"attributes":{"text":"Опции для конструирования компонента<p style=\"display: block; margin-top: 10px;\"><b style=\"color: #999\">checkEvents</b><p style=\"display: block; margin-left: 10px; color: #666;\">Проверять ли наличие события при попытке его возбуждения, подписки на него</p><p style=\"display: block; margin-left: 10px; color: #666;\"><b style=\"color: #999\">type: </b>boolean</p><p style=\"display: block; margin-left: 10px; color: #666;\"><b style=\"color: #999\">init value: </b>true</p><p style=\"display: block; margin-left: 10px; color: #666;\"><b style=\"color: #999\">inherited from: </b> {@link croc.Object}</p></p><p style=\"display: block; margin-top: 10px;\"><b style=\"color: #999\">listeners</b><p style=\"display: block; margin-left: 10px; color: #666;\">Объект с обработчиками событий объекта</p><p style=\"display: block; margin-left: 10px; color: #666;\"><b style=\"color: #999\">type: </b>Object</p><p style=\"display: block; margin-left: 10px; color: #666;\"><b style=\"color: #999\">inherited from: </b> {@link croc.Object}</p></p><p style=\"display: block; margin-top: 10px;\"><b style=\"color: #999\">onPreConstruct</b><p style=\"display: block; margin-left: 10px; color: #666;\">Метод вызывает до конструирования объекта, но после создания ссылки на него. Можно использовать тогда,\nкогда ссылка на объект нужна внешней среде до его полного конструирования.</p><p style=\"display: block; margin-left: 10px; color: #666;\"><b style=\"color: #999\">type: </b>function(croc.Object)</p><p style=\"display: block; margin-left: 10px; color: #666;\"><b style=\"color: #999\">inherited from: </b> {@link croc.Object}</p></p><p style=\"display: block; margin-top: 10px;\"><b style=\"color: #999\">_checkRequiredOptions</b><p style=\"display: block; margin-left: 10px; color: #666;\">Проверять, переданы ли все необходимые опции</p><p style=\"display: block; margin-left: 10px; color: #666;\"><b style=\"color: #999\">type: </b>boolean</p><p style=\"display: block; margin-left: 10px; color: #666;\"><b style=\"color: #999\">init value: </b>true</p><p style=\"display: block; margin-left: 10px; color: #666;\"><b style=\"color: #999\">inherited from: </b> {@link croc.Object}</p></p>"},"type":"desc"},{"attributes":{},"type":"types","children":[{"attributes":{"type":"Object"},"type":"entry"}]}]}]},{"attributes":{"text":"<i>Разверните для просмотра опций</i>"},"type":"desc"}]}]}]}