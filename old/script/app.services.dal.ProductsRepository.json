{"attributes":{"name":"ProductsRepository","packageName":"app.services.dal","externalRef":true,"fullName":"app.services.dal.ProductsRepository","type":"class","isInternal":false,"isStatic":false,"isAbstract":false,"superClass":"croc.Object","mixins":"","childClasses":"","line":1},"type":"class","children":[{"attributes":{},"type":"methods","children":[{"attributes":{"name":"addProductToFavorites","isStatic":false,"line":49},"type":"method","children":[{"attributes":{"text":"Добавить в избранное"},"type":"desc"},{"attributes":{},"type":"params","children":[{"attributes":{"optional":false,"name":"entity"},"children":[{"attributes":{},"type":"types","children":[{"attributes":{"type":"Object|number|string"},"type":"entry"}]}]}]},{"attributes":{},"type":"return","children":[{"attributes":{},"type":"types","children":[{"attributes":{"type":"$.Deferred"},"type":"entry"}]}]}]},{"attributes":{"name":"attachEntity","isStatic":false,"line":58},"type":"method","children":[{"attributes":{"text":"Прикрепить сущность к репозиторию (возвращает актуальную сущность)"},"type":"desc"},{"attributes":{},"type":"params","children":[{"attributes":{"optional":false,"name":"entity"},"children":[{"attributes":{},"type":"types","children":[{"attributes":{"type":"Object"},"type":"entry"}]}]}]},{"attributes":{},"type":"return","children":[{"attributes":{},"type":"types","children":[{"attributes":{"type":"Object"},"type":"entry"}]}]}]},{"attributes":{"name":"clearFavoriteProducts","isStatic":false,"line":77},"type":"method","children":[{"attributes":{"text":"Очистить избранное"},"type":"desc"},{"attributes":{},"type":"return","children":[{"attributes":{},"type":"types","children":[{"attributes":{"type":"$.Deferred"},"type":"entry"}]}]}]},{"attributes":{"name":"clearRecentProducts","isStatic":false,"line":109},"type":"method","children":[{"attributes":{"text":"Очистить недавно просмотренные"},"type":"desc"},{"attributes":{},"type":"return","children":[{"attributes":{},"type":"types","children":[{"attributes":{"type":"$.Deferred"},"type":"entry"}]}]}]},{"attributes":{"name":"getEntity","isStatic":false,"line":135},"type":"method","children":[{"attributes":{"text":"Вовзращает сущность из локального репозитория"},"type":"desc"},{"attributes":{},"type":"params","children":[{"attributes":{"optional":false,"name":"id"},"children":[{"attributes":{},"type":"types","children":[{"attributes":{"type":"number|string"},"type":"entry"}]}]}]},{"attributes":{},"type":"return","children":[{"attributes":{},"type":"types","children":[{"attributes":{"type":"Object"},"type":"entry"}]}]}]},{"attributes":{"name":"getFavoriteProducts","isStatic":false,"line":144},"type":"method","children":[{"attributes":{"text":"Список избранных товаров"},"type":"desc"},{"attributes":{},"type":"return","children":[{"attributes":{},"type":"types","children":[{"attributes":{"type":"croc.data.IStreamList"},"type":"entry"}]}]}]},{"attributes":{"name":"getFavoritesCount","isStatic":false,"line":17,"fromProperty":"favoritesCount"},"type":"method","children":[{"attributes":{"text":"Возвращает значение свойства {@link #favoritesCount}"},"type":"desc"},{"attributes":{},"type":"return","children":[{"attributes":{},"type":"types","children":[{"attributes":{"type":"number"},"type":"entry"}]}]}]},{"attributes":{"name":"getRecentCount","isStatic":false,"line":28,"fromProperty":"recentCount"},"type":"method","children":[{"attributes":{"text":"Возвращает значение свойства {@link #recentCount}"},"type":"desc"},{"attributes":{},"type":"return","children":[{"attributes":{},"type":"types","children":[{"attributes":{"type":"*"},"type":"entry"}]}]}]},{"attributes":{"name":"getRecentProducts","isStatic":false,"line":158},"type":"method","children":[{"attributes":{"text":"Список недавно просмотренных товаров"},"type":"desc"},{"attributes":{},"type":"return","children":[{"attributes":{},"type":"types","children":[{"attributes":{"type":"croc.data.IStreamList"},"type":"entry"}]}]}]},{"attributes":{"name":"onUpdateEntity","isStatic":false,"line":172},"type":"method","children":[{"attributes":{},"type":"params","children":[{"attributes":{"optional":false,"name":"id"},"children":[{"attributes":{},"type":"types","children":[{"attributes":{"type":"number"},"type":"entry"}]}]},{"attributes":{"optional":false,"name":"callback"},"children":[{"attributes":{},"type":"types","children":[{"attributes":{"type":"function(Object, Object)"},"type":"entry"}]}]},{"attributes":{"optional":true,"name":"context"},"children":[]}]}]},{"attributes":{"name":"removeProductFromFavorites","isStatic":false,"line":219},"type":"method","children":[{"attributes":{"text":"Удалить из избранного"},"type":"desc"},{"attributes":{},"type":"params","children":[{"attributes":{"optional":false,"name":"entity"},"children":[{"attributes":{},"type":"types","children":[{"attributes":{"type":"Object|number|string"},"type":"entry"}]}]}]},{"attributes":{},"type":"return","children":[{"attributes":{},"type":"types","children":[{"attributes":{"type":"$.Deferred"},"type":"entry"}]}]}]},{"attributes":{"name":"removeProductFromRecent","isStatic":false,"line":190},"type":"method","children":[{"attributes":{"text":"Удалить из избранного"},"type":"desc"},{"attributes":{},"type":"params","children":[{"attributes":{"optional":false,"name":"entity"},"children":[{"attributes":{},"type":"types","children":[{"attributes":{"type":"Object|number|string"},"type":"entry"}]}]}]},{"attributes":{},"type":"return","children":[{"attributes":{},"type":"types","children":[{"attributes":{"type":"$.Deferred"},"type":"entry"}]}]}]},{"attributes":{"name":"resolveEntity","isStatic":false,"line":228},"type":"method","children":[{"attributes":{"text":"Возвращает сущность по id или по её описанию. Если такой сущности нет в репозитории, то создаёт её."},"type":"desc"},{"attributes":{},"type":"params","children":[{"attributes":{"optional":false,"name":"entity"},"children":[{"attributes":{},"type":"types","children":[{"attributes":{"type":"Object|number"},"type":"entry"}]}]}]},{"attributes":{},"type":"return","children":[{"attributes":{},"type":"types","children":[{"attributes":{"type":"Object"},"type":"entry"}]}]}]},{"attributes":{"name":"updateEntity","isStatic":false,"line":239},"type":"method","children":[{"attributes":{"text":"Уведомить об обновлении сущности"},"type":"desc"},{"attributes":{},"type":"params","children":[{"attributes":{"optional":false,"name":"entity"},"children":[{"attributes":{},"type":"types","children":[{"attributes":{"type":"Object"},"type":"entry"}]}]},{"attributes":{"optional":true,"name":"changes"},"children":[{"attributes":{},"type":"types","children":[{"attributes":{"type":"Object"},"type":"entry"}]}]}]}]},{"attributes":{"name":"__actualizeEntity","isStatic":false,"access":"private","line":257},"type":"method","children":[{"attributes":{},"type":"params","children":[{"attributes":{"optional":false,"name":"entity"},"children":[]}]}]},{"attributes":{"name":"__changeFavorites","isStatic":false,"access":"private","line":303},"type":"method","children":[{"attributes":{},"type":"params","children":[{"attributes":{"optional":false,"name":"entity"},"children":[]},{"attributes":{"optional":false,"name":"action"},"children":[]}]}]},{"attributes":{"name":"__getProducts","isStatic":false,"access":"private","line":270},"type":"method","children":[{"attributes":{},"type":"params","children":[{"attributes":{"optional":false,"name":"params"},"children":[{"attributes":{},"type":"types","children":[{"attributes":{"type":"object"},"type":"entry"}]}]}]},{"attributes":{},"type":"return","children":[{"attributes":{},"type":"types","children":[{"attributes":{"type":"croc.data.StreamList"},"type":"entry"}]}]}]},{"attributes":{"name":"__setFavoritesCount","isStatic":false,"access":"private","line":17,"fromProperty":"favoritesCount"},"type":"method","children":[{"attributes":{"text":"Назначает значение свойства {@link #favoritesCount}"},"type":"desc"},{"attributes":{},"type":"params","children":[{"attributes":{"name":"value"},"children":[{"attributes":{},"type":"types","children":[{"attributes":{"type":"number"},"type":"entry"}]}]}]}]},{"attributes":{"name":"__setRecentCount","isStatic":false,"access":"private","line":28,"fromProperty":"recentCount"},"type":"method","children":[{"attributes":{"text":"Назначает значение свойства {@link #recentCount}"},"type":"desc"},{"attributes":{},"type":"params","children":[{"attributes":{"name":"value"},"children":[{"attributes":{},"type":"types","children":[{"attributes":{"type":"*"},"type":"entry"}]}]}]}]}]},{"attributes":{"text":"Репозиторий для доступа к продуктам"},"type":"desc"},{"attributes":{},"type":"properties","children":[{"attributes":{"name":"favoritesCount","propertyType":"new","line":17,"event":"changeFavoritesCount"},"type":"method","children":[{"attributes":{"text":"Количество избранных товаров"},"type":"desc"},{"attributes":{},"type":"types","children":[{"attributes":{"type":"number"},"type":"entry"}]}]},{"attributes":{"name":"recentCount","propertyType":"new","line":28,"event":"changeRecentCount"},"type":"method","children":[{"attributes":{"text":"Количество недавно просмотренных товаров"},"type":"desc"}]}]},{"attributes":{},"type":"events","children":[{"attributes":{"name":"changeFavoritesCount","line":17},"type":"event","children":[{"attributes":{"text":"Возбуждается при изменении значения свойства {@link #favoritesCount}"},"type":"desc"}]},{"attributes":{"name":"changeRecentCount","line":28},"type":"event","children":[{"attributes":{"text":"Возбуждается при изменении значения свойства {@link #recentCount}"},"type":"desc"}]},{"attributes":{"name":"updateEntity","line":8},"type":"event","children":[{"attributes":{"text":"Сущность была изменена"},"type":"desc"}]}]},{"attributes":{},"type":"constructor","children":[{"attributes":{"isCtor":true,"name":"ctor"},"type":"method","children":[{"attributes":{},"type":"params","children":[{"attributes":{"optional":true,"name":"options"},"type":"param","children":[{"attributes":{"text":"Опции для конструирования компонента<p style=\"display: block; margin-top: 10px;\"><b style=\"color: #999\">checkEvents</b><p style=\"display: block; margin-left: 10px; color: #666;\">Проверять ли наличие события при попытке его возбуждения, подписки на него</p><p style=\"display: block; margin-left: 10px; color: #666;\"><b style=\"color: #999\">type: </b>boolean</p><p style=\"display: block; margin-left: 10px; color: #666;\"><b style=\"color: #999\">init value: </b>true</p><p style=\"display: block; margin-left: 10px; color: #666;\"><b style=\"color: #999\">inherited from: </b> {@link croc.Object}</p></p><p style=\"display: block; margin-top: 10px;\"><b style=\"color: #999\">listeners</b><p style=\"display: block; margin-left: 10px; color: #666;\">Объект с обработчиками событий объекта</p><p style=\"display: block; margin-left: 10px; color: #666;\"><b style=\"color: #999\">type: </b>Object</p><p style=\"display: block; margin-left: 10px; color: #666;\"><b style=\"color: #999\">inherited from: </b> {@link croc.Object}</p></p><p style=\"display: block; margin-top: 10px;\"><b style=\"color: #999\">onPreConstruct</b><p style=\"display: block; margin-left: 10px; color: #666;\">Метод вызывает до конструирования объекта, но после создания ссылки на него. Можно использовать тогда,\nкогда ссылка на объект нужна внешней среде до его полного конструирования.</p><p style=\"display: block; margin-left: 10px; color: #666;\"><b style=\"color: #999\">type: </b>function(croc.Object)</p><p style=\"display: block; margin-left: 10px; color: #666;\"><b style=\"color: #999\">inherited from: </b> {@link croc.Object}</p></p><p style=\"display: block; margin-top: 10px;\"><b style=\"color: #999\">_checkRequiredOptions</b><p style=\"display: block; margin-left: 10px; color: #666;\">Проверять, переданы ли все необходимые опции</p><p style=\"display: block; margin-left: 10px; color: #666;\"><b style=\"color: #999\">type: </b>boolean</p><p style=\"display: block; margin-left: 10px; color: #666;\"><b style=\"color: #999\">init value: </b>true</p><p style=\"display: block; margin-left: 10px; color: #666;\"><b style=\"color: #999\">inherited from: </b> {@link croc.Object}</p></p>"},"type":"desc"},{"attributes":{},"type":"types","children":[{"attributes":{"type":"Object"},"type":"entry"}]}]}]},{"attributes":{"text":"<i>Разверните для просмотра опций</i>"},"type":"desc"}]}]}]}